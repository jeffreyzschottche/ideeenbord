## API Overview â€“ Laravel Backend (v1)

Hieronder staat een volledig overzicht van alle API-endpoints uit `routes/api.php`, inclusief:

* Methode & endpoint
* Versie (`v1`)
* Middleware
* Authenticatie (`user` of `brand_owner`)
* Verantwoordelijkheid / doel

---

### ğŸ“¬ Verificatie en Authenticatie (Users & BrandOwners)

#### âœ… BrandOwner Email Verificatie

* **GET** `/v1/brand-owner/email/verify/{id}/{hash}`
* **Middleware:** `signed`
* **Token:** geen
* **Doel:** Valideert en markeert e-mail van brandowner als geverifieerd, redirect naar frontend.

#### ğŸ” BrandOwner Verificatie opnieuw versturen

* **POST** `/v1/brand-owner/email/resend`
* **Middleware:** `auth:brand_owner`
* **Token:** Sanctum (`brand_owner` guard)
* **Doel:** Stuurt verificatie-e-mail opnieuw naar brandowner.

#### âœ… User Email Verificatie

* **GET** `/v1/email/verify/{id}/{hash}`
* **Middleware:** `signed`
* **Token:** geen
* **Doel:** Verifieert een gewone gebruiker en redirect naar frontend.

#### âœ… User Email Controleren via link

* **GET** `/v1/verify-email`
* **Middleware:** `signed`
* **Token:** geen
* **Doel:** Controleert e-mailadres van een user en stuurt JSON terug.

#### âœ‰ï¸ Verificatie-email sturen

* **POST** `/v1/email/verification-notification`
* **Middleware:** geen
* **Token:** (optioneel, voor user)
* **Doel:** Stuurt een nieuwe verificatie-email.

---

### ğŸ” BrandOwner Auth & Accountbeheer

#### ğŸ”‘ Login

* **POST** `/v1/brand-owner/login`
* **Middleware:** geen
* **Token:** geen
* **Doel:** Inloggen voor brandowners, geeft token terug.

#### ğŸ‘¤ Logout

* **POST** `/v1/brand-owner/logout`
* **Middleware:** `auth:brand_owner`
* **Token:** Sanctum (brandowner)
* **Doel:** Logt een brandowner uit (invalideert token).

#### ğŸ” Eigen profiel

* **GET** `/v1/brand-owner/me`
* **Middleware:** `auth:brand_owner`
* **Doel:** Haalt ingelogde brandownergegevens op.

#### ğŸ”§ Account bewerken

* **PATCH** `/v1/brand-owner/account`
* **Middleware:** `auth:brand_owner`
* **Doel:** Wijzigt email, telefoon, wachtwoord of abonnement van de brandowner.

---

### ğŸŒ Publieke Routes â€“ Merken & Vragen

#### ğŸ“‹ Alle Merken

* **GET** `/v1/brands`
* **Middleware:** geen
* **Doel:** Publiek overzicht van alle merken

#### ğŸ” Merkpagina

* **GET** `/v1/brands/{slug}`
* **Middleware:** geen
* **Doel:** Toont detailpagina van merk obv slug

#### ğŸ§  Algemene vragen ophalen

* **GET** `/v1/main-questions`
* **Middleware:** geen
* **Doel:** Geeft lijst van beschikbare hoofdvragen terug

#### ğŸ§  Ã‰Ã©n specifieke vraag

* **GET** `/v1/main-questions/{mainQuestion}`
* **Middleware:** geen
* **Doel:** Toont Ã©Ã©n specifieke vraag

#### ğŸ“š IdeeÃ«n voor merk ophalen

* **GET** `/v1/brands/{brand}/ideas`
* **Middleware:** geen
* **Doel:** Haalt alle ideeÃ«n op die bij een merk horen

#### ğŸ§© Actieve quiz voor merk

* **GET** `/v1/brands/{brand}/quiz`
* **Middleware:** geen
* **Doel:** Toont de lopende quiz (indien aanwezig)

#### ğŸ‘¥ Quizdeelnemers ophalen

* **GET** `/v1/brands/{brand}/quiz/participants`
* **Middleware:** geen
* **Doel:** Toont gebruikers die aan quiz deelnemen

#### ğŸ§  Meerdere quizzen voor merk

* **GET** `/v1/brands/{brand}/quizzes`
* **Middleware:** geen
* **Doel:** Toont quizhistorie

---

### ğŸ” Geverifieerde User Routes

* **POST** `/v1/register` â†’ Registreert nieuwe gebruiker
* **POST** `/v1/login` â†’ Inloggen gebruiker
* **GET** `/v1/hi` â†’ Hello world test
* **GET** `/v1/me`, `/user` â†’ Ingelogde gebruikersdata
* **GET** `/v1/bye` â†’ Beveiligde toegangstest

#### ğŸ“¥ IdeeÃ«n & interacties

* **POST** `/v1/ideas` â†’ Idee indienen
* **POST** `/v1/ideas/{id}/like|dislike` â†’ Liken of disliken
* **GET** `/v1/ideas` â†’ Meerdere ideeÃ«n ophalen op basis van IDâ€™s

#### ğŸ“Š Merkbeoordeling & vraag

* **POST** `/v1/brands/{brand}/rate` â†’ Beoordeling geven
* **POST** `/v1/brands/{brand}/main-question-response` â†’ Antwoord op algemene vraag indienen

#### ğŸ§  Quiz

* **GET** `/v1/quizzes/{id}` â†’ Quiz ophalen
* **POST** `/v1/quizzes/{id}/submit` â†’ Quiz indienen
* **GET** `/v1/users/{username}/quiz-submissions` â†’ Gebruikersinzendingen ophalen

#### ğŸ‘¤ Profielbeheer

* **PATCH** `/v1/users/{username}` â†’ Profiel bijwerken
* **GET** `/v1/users/{username}` â†’ Profielgegevens
* **GET** `/v1/users/{username}/ideas` â†’ IdeeÃ«n van gebruiker
* **GET** `/v1/users/{username}/notifications` â†’ Notificaties ophalen

#### ğŸ›¡ï¸ Merkregistratie & claim (alleen ingelogd)

* **POST** `/v1/brands/request` â†’ Nieuw merk aanvragen
* **POST** `/v1/brands/claim` â†’ Bestaand merk claimen

---

### ğŸ‘‘ Admin Routes

#### âœ… BrandOwner verifiÃ«ren

* **POST** `/v1/admin/brands/owners/{id}/verify`
* **Middleware:** `auth:sanctum`, `IsAdmin`
* **Doel:** Markeert brandowner als geverifieerd en stuurt e-mail

#### ğŸ“‹ BrandOwners overzicht

* **GET** `/v1/admin/brand-owners`
* **Middleware:** `auth:sanctum`, `IsAdmin`
* **Doel:** Toont overzicht van alle brandowners

---

### ğŸŒ Web Routes

#### Homepage SSR

* **GET** `/`
* **Middleware:** none
* **Doel:** Serveert `welcome.blade.php` â€“ default Laravel landingspagina

---

> ğŸ” Let op: Authenticated routes gebruiken **Sanctum tokens**:
>
> * `auth:sanctum` voor `users`
> * `auth:brand_owner` voor `brand_owner`
> * Admin vereist beide + `IsAdmin` middleware
